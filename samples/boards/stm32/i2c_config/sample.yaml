sample:
  name: STM32 I2C configuration
tests:
  sample.boards.stm32.i2c_config:
    depends_on: i2c
    tags:
      - drivers
      - i2c
    filter: dt_compat_enabled("st,stm32-i2c-v1") or dt_compat_enabled("st,stm32-i2c-v2")
    platform_allow: nucleo_l152re nucleo_wb55rg b_u585i_iot02a
    harness: console
    harness_config:
      type: multi_line
      regex:
        - "I2C timing value, report to the DTS :"
        - "timings = *"
        - "I2C config: I2C_BITRATE_*"
